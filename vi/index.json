[{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/1-introduce/","title":"Giới thiệu","tags":[],"description":"","content":"Tổng quan AWS Config là dịch vụ liên tục đánh giá, kiểm tra và phân tích cấu hình cùng mối quan hệ giữa các tài nguyên trên AWS, on-premises và các đám mây khác. Bài viết này hướng dẫn cách tăng cường giá trị của AWS Config thông qua việc triển khai giải pháp toàn tổ chức, tự động đánh giá tài nguyên theo các thực hành tốt nhất cho tối ưu chi phí sử dụng tính năng Conformance Packs.\nConformance Pack là tập hợp các quy tắc AWS Config và hành động khắc phục, cung cấp khung tuân thủ tổng quát để mã hóa và triển khai các kiểm tra quản trị về bảo mật, vận hành hoặc tối ưu chi phí trong một tài khoản và vùng, hoặc mở rộng ra toàn bộ AWS Organization. Các quy tắc này tự động giám sát và đánh giá tài nguyên để xác định tình trạng tuân thủ so với logic được định nghĩa trong mỗi quy tắc. AWS Config cung cấp AWS Config Managed Rules (danh sách quy tắc được định nghĩa sẵn có thể tùy chỉnh) hoặc AWS Config Custom Rules (cho phép định nghĩa logic tùy chỉnh sử dụng các hàm AWS Lambda hoặc AWS CloudFormation Guard - một ngôn ngữ chính sách dưới dạng mã). Khi tài nguyên không tuân thủ logic được định nghĩa trong quy tắc, nó sẽ được đánh dấu Noncompliant. Bạn có thể chọn thực hiện các bước khắc phục theo cách thủ công hoặc tự động thông qua AWS Systems Manager Automation - dịch vụ cung cấp trung tâm vận hành cho các ứng dụng và tài nguyên AWS, với các runbook được định nghĩa sẵn để tự động khắc phục tài nguyên không tuân thủ hoặc kích hoạt quy trình làm việc điều khiển bằng sự kiện như cảnh báo đội ngũ để hành động.\nTổng quan giải pháp Giải pháp này cho phép các tổ chức đã sử dụng AWS Config tối đa hóa lợi ích sử dụng bằng cách tích hợp quản trị tối ưu chi phí tự động vào hạ tầng hiện có. Giải pháp linh hoạt này cung cấp ba quy tắc tùy chỉnh mẫu thể hiện các thực hành tốt nhất về tối ưu chi phí, liên tục giám sát cấu hình tài nguyên và báo cáo tình trạng tuân thủ về bộ tổng hợp AWS Config tập trung trong tài khoản \u0026lsquo;quản trị viên được ủy quyền\u0026rsquo; để giám sát và báo cáo được đơn giản hóa.\nViệc triển khai bao gồm các quy tắc quản trị sau:\nQuy tắc 1: Xác định các EBS gp2 volumes Khắc phục: Tự động chuyển đổi sang gp3 volumes Quy tắc 2: Phát hiện các EBS volumes chưa gắn vào EC2 instances Quy tắc 3: Tìm các S3 buckets thiếu chính sách cấu hình vòng đời Khi tài nguyên không đáp ứng tiêu chí quy tắc, cả tài nguyên riêng lẻ và quy tắc cấu hình cùng conformance pack liên quan đều nhận trạng thái Noncompliant. Quy tắc 1 tích hợp khả năng khắc phục tự động có thể thực thi theo yêu cầu hoặc tự động, khởi chạy runbook tự động hóa SSM để di chuyển EBS volumes từ gp2 sang gp3. Việc nâng cấp này cho phép cung cấp IOPS và throughput độc lập mà không cần mở rộng lưu trữ, mang lại mức giảm chi phí lên đến 20% mỗi GB so với gp2 volumes.\nQuan trọng: AWS Config hoạt động như dịch vụ tính phí - xem lại tài liệu giá cả để hiểu tác động chi phí tổ chức trước khi triển khai rộng rãi nếu chưa triển khai hiện tại.\nGiải pháp hỗ trợ triển khai trên AWS Organizations bất kể trạng thái AWS Control Tower. AWS Control Tower cung cấp thiết lập có tổ chức và quản trị cho môi trường AWS đa tài khoản sử dụng các thực hành tốt nhất đã được thiết lập. Hình 1 minh họa việc triển khai Cost Optimization Conformance Pack trên kiến trúc OU mẫu điển hình của triển khai AWS Control Tower với các tài khoản thành viên. Security OU lưu trữ tài khoản kiểm toán, được chỉ định làm quản trị viên được ủy quyền cho cả AWS Config và AWS CloudFormation. Việc chỉ định này cung cấp quyền cần thiết để triển khai Cost Optimization Conformance Pack cùng các tài nguyên liên quan thông qua phân phối CloudFormation Stack trên các tài khoản trong tổ chức. CloudFormation Stack bao gồm các quy tắc tùy chỉnh Cost Optimization Conformance Pack cùng với hàm AWS Lambda và tài liệu AWS Systems Manager được tham chiếu bởi các quy tắc này. Hai vai trò AWS Identity and Access Management (IAM) tùy chỉnh được cung cấp thông qua CloudFormation StackSets để cho phép thực thi hàm Lambda và tài liệu Systems Manager. Tất cả thành phần triển khai toàn tổ chức từ tài khoản kiểm toán tập trung, đơn giản hóa việc quản lý giải pháp.\nAWS Config đánh giá sự tuân thủ tài nguyên với các quy tắc conformance pack theo định kỳ hoặc được kích hoạt bởi thay đổi cấu hình môi trường. Bộ tổng hợp AWS Config trong tài khoản kiểm toán tổng hợp và tập trung dữ liệu tuân thủ được thu thập trên các tài khoản thành viên, tạo điều kiện thuận lợi cho phân tích và báo cáo theo vùng.\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/2-prerequiste/2.1-createorganization/","title":"Kích hoạt AWS Organizations","tags":[],"description":"","content":"\rĐể bắt đầu, bạn cần một AWS account chưa tham gia vào AWS Organizations\nKích hoạt AWS Organizations (Console) Trong AWS Management Console, ở góc trên bên trái cạnh Services, nhấp vào ô tìm kiếm và nhập “AWS Organizations”, sau đó chọn dịch vụ này.\nNhấp vào Create Organization. Theo mặc định, tổ chức được tạo với tất cả các tính năng được kích hoạt. Tổ chức được tạo và trang AWS accounts xuất hiện. Tài khoản duy nhất hiện có là management account của bạn, và hiện đang nằm dưới root organizational unit (OU).\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/4-delegate-admin-accounts/4.1-delegated-admin-account-for-aws-config/","title":"Kích hoạt tài khoản &#39;Quản trị viên được ủy quyền&#39; cho AWS Config","tags":[],"description":"","content":"Các bước thực hiện Đăng nhập truy cập giao diện quản trị dịch vụ (Console) bằng tài khoản kiểm toán (Audit account). Bạn có thể kiểm tra lại cấu trúc các tài khoản của tổ chức ở bước Thiết lập Landing Zone\nChạy các lệnh sau:\naws organizations register-delegated-administrator --account-id $ACCOUNT_ID --service-principal config-multiaccountsetup.amazonaws.com và\naws organizations register-delegated-administrator --account-id $ACCOUNT_ID --service-principal config.amazonaws.com Để kiểm tra tài khoản kiểm toán đã được thiết lập thành công như một quản trị viên được ủy quyền cho AWS Config, chạy các lệnh sau:\naws organizations list-delegated-administrators --service-principal=config.amazonaws.com và\naws organizations list-delegated-administrators --service-principal=config-multiaccountsetup.amazonaws.com "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/5-conformancepack/5.2-validate-conformancepack-status/5.2.1-delegated-admin-account/","title":"Tài khoản Quản trị viên được uỷ quyền","tags":[],"description":"","content":" Kiểm tra AWS Lambda function\nChúng ta có 3 lambda function:\nCostOptimizationConfPack-GetOrgDetailsFunction chứa logic để liệt kê các tài khoản thành viên, loại trừ tài khoản quản trị khỏi mục tiêu triển khai của CloudFormation\nCostOptimizationConfPack-ShareDocumentFunction chứa logic để chia sẻ SSM Document tạo bởi tài khoản Quản trị viên được uỷ quyền, chia sẻ quyền đọc đến tài khoản thành viên\nCostOptimizationConformanceConfigRuleFunction định nghĩa logic đánh giá quy tắc custom của AWS Config\nKiểm tra AWS Systems Manager Document:\nDi chuyển đến trang dịch vụ Systems Manager, rồi chọn mục \u0026ldquo;Documents\u0026rdquo; bên thanh điều hướng trái:\nChọn tab \u0026ldquo;Owned by me\u0026rdquo; và kiểm tra chúng ta đã có một document có tên CostOptimizationConfPack-EbsGp3Remediation\nChọn document và xem nội dung document:\nDocument này nhận đầu vào là một EBS volume id và thực hiện chỉnh sửa volume type của EBS volume tương ứng sang gp3\nAWS Config Aggregator là một loại tài nguyên thu thập tập trung các cấu hình AWS Config và dữ liệu tuân thủ từ nhiều nguồn (chéo tài khoản, chéo Region)\nKiểm tra AWS Config Aggregator\n3.1 Truy cập dịch vụ AWS Config\n3.2 Ở thanh điều hướng trái, chọn Aggregator rồi chọn Conformance packs\n📌 Đây là bảng điều khiển giúp quản trị viên giám sát tập trung các quy tắc và tình trạng đáp ứng của các tài nguyên chéo tài khoản, toàn tổ chức\n3.3 Tuỳ thuộc vào có bao nhiêu tài khoản trong tổ chức của bạn mà bạn sẽ có bấy nhiêu Bộ Quy tắc tuân thủ (Conformance pack)\n3.4 Kiểm tra các quy tắc có trong bộ "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/3-establish-trusted-access/3.1-aws-config/","title":"Thiết lập truy cập tin cậy giữa AWS Organizations và AWS Config","tags":[],"description":"","content":"Ý nghĩa Thiết lập này cho phép dịch vụ AWS Config thực hiện các hoạt động xuyên tài khoản mà không cần yêu cầu nhà quản trị cấu hình chính sách quyền một cách thủ công ở từng tài khoản riêng lẻ\nCác bước thiết lập sau sẽ bao gồm:\nkích hoạt tích hợp dịch vụ Config cốt lõi\nkích hoạt các tính năng triển khai và tổng hợp đa tài khoản\nCác bước thực hiện Dùng tài khoản quản lí, truy cập giao diện quản trị dịch vụ\nMở AWS CloudShell Thực thi hai lệnh sau\naws organizations enable-aws-service-access --service-principal=config-multiaccountsetup.amazonaws.com aws organizations enable-aws-service-access --service-principal=config.amazonaws.com "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/","title":"Tối ưu Chi phí Multi-Account quy mô lớn với AWS Config Conformance Packs","tags":[],"description":"","content":"Mở Rộng Kiểm Soát Chi Phí Toàn Tổ Chức: Hướng Dẫn Thực Tế Triển Khai AWS Config Tìm hiểu cách cấu hình các quy tắc AWS Config, đóng gói chúng thành một đơn vị duy nhất - Bộ Quy tắc tuân thủ (Conformance Packs), cho phép triển khai và quản lý hàng trăm quy tắc Config trên toàn bộ tổ chức AWS, đảm bảo tiêu chuẩn compliance nhất quán qua tất cả tài khoản và regions chỉ với một thao tác duy nhất.\nNgoài ra còn tự động hoá tác vụ khắc phụ tự động thông qua Systems Manager kết với AWS Config Aggregator đóng vai trò trung tâm để thu thập và giám sát dữ liệu compliance từ tất cả tài khoản trong tổ chức.\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/5-conformancepack/5.1-deploy-conformancepack/","title":"Triển khai Conformance Pack","tags":[],"description":"","content":"Tổng quan Chúng ta sẽ sử dụng tài khoản kiểm toán để triển khai các tài nguyên trong giải pháp tận dụng dịch vụ AWS CloudFormation, bao gồm:\nMột CloudFormation Stackset: giúp triển khai hàng loạt một bộ các tài nguyên lên nhiều tài khoản Một CloudFormation Stack: khiển khai một số tài nguyên hỗ trợ, giúp phân bổ các tài nguyên được định nghĩa trong CloudFormation Stackset đến các tài khoản thành viên được chỉ định. Triển khai Tải CloudFormation template tại đây\nĐăng nhập giao diện quản trị dịch vụ AWS CloudFormation sử dụng tài khoản kiểm toán\nỞ giao diện chính, mở CloudShell, chọn ô Action rồi Upload file\nKiểm tra CloudFormation template đã được tải lên thành công\nTiếp theo nhập lệnh sau để triển khai CloudFormation:\naws cloudformation deploy --template-file AWS_Config_Cost_Optimization_Template.yaml --stack-name CostOptimizationConfPack --parameter-overrides DeployingInDelegatedAdminAccount=True --capabilities CAPABILITY_IAM Sau khoảng 5-10 phút, việc triển khai thành công "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/2-prerequiste/","title":"Các bước chuẩn bị","tags":[],"description":"","content":"Nội dung Nhằm chuẩn bị môi trường đa tài khoản và tự động hoá việc tạo các tài nguyên, hạ tầng (giám sát, tuân thủ, v.v) phục vụ liên quan, chúng ta cần thực hiện các bước sau\nKích hoạt AWS Organizations\nThiết lập Landing Zone (AWS Control Tower)\nThiết lập AWS Identity Center\nKích hoạt truy cập tin cậy cho CloudFormation StackSets\n💡 AWS Organizations để quản lí tập trung đa tài khoản,cài đặt Landing Zone của AWS Control Tower để thực động thiết lập các dịch vụ, tính năng liên quan đến giám sát và bảo mật theo cách làm hay khuyến nghị bởi AWS và AWS Identity Center để chuyển đổi nhanh giữa các tài khoản thành viên.\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/4-delegate-admin-accounts/4.2-delegated-admin-account-for-aws-cloudformation/","title":"Kích hoạt tài khoản &#39;Quản trị viên được ủy quyền&#39; cho AWS CloudFormation","tags":[],"description":"","content":"Các bước thực hiện Đăng nhập truy cập giao diện quản trị dịch vụ (Console) bằng tài khoản kiểm toán (Audit account). Bạn có thể kiểm tra lại cấu trúc các tài khoản của tổ chức ở bước Thiết lập Landing Zone\nChạy lệnh sau:\naws organizations register-delegated-administrator --service-principal=member.org.stacksets.cloudformation.amazonaws.com --account-id=$ACCOUNT_ID Để kiểm tra tài khoản kiểm toán đã được thiết lập thành công như một quản trị viên được ủy quyền cho AWS Config, chạy lệnh sau:\naws organizations list-delegated-administrators --service-principal=member.org.stacksets.cloudformation.amazonaws.com "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/5-conformancepack/5.2-validate-conformancepack-status/","title":"Kiểm tra trạng thái của Conformance Pack","tags":[],"description":"","content":"Ở bước này, chúng ta sẽ kiểm tra các tài nguyên định nghĩa trong CloudFormation template trên được phân bổ như thế nào.\nNội dung Kiểm tra tài khoản Quản trị viên được ủy quyền Kiểm tra các tài khoản thành viên Kết luận "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/5-conformancepack/5.2-validate-conformancepack-status/5.2.2-member-accounts/","title":"Tài khoản thành viên","tags":[],"description":"","content":"Sử dụng một tài khoản thành viên để đăng nhập\nỞ đây, nhằm mục đích đơn giản hoá, chúng ta sẽ sử dụng tài khoản Log Archive\nKiểm tra AWS Lambda function Chúng ta có một function duy nhất đánh giá quy tắc AWS Config Kiểm tra AWS Systems Manager Document: Được chia sẻ một document nhằm thực hiện biện pháp khắc phụ nếu AWS Config phát hiện một sự kiện bất tuân thủ Kiểm tra AWS Config Conformance Pack Chọn View để xem chi tiết "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/2-prerequiste/2.2-createlandingzone/","title":"Thiết lập Landing Zone","tags":[],"description":"","content":"Thiết lập Landing Zone Truy cập giao diện quản trị dịch vụ AWS Control Tower:\nChọn Set up landing zone.\nMất khoảng 15 phút để AWS Control Tower hoàn tất quá trình thiết lập\nSau khi hoàn tất, về cơ bản, Control Tower sẽ tự động tạo hai tài khoản thành viên bắt buộc: tài khoản Audit (Kiểm toán) và tài khoản Log Archive (Lưu trữ nhật ký) cũng như thiết lập cấu trúc Organizational Units (OU) cơ bản: Security OU (chứa tài khoản Audit và Log Archive), Sandbox OU (để thử nghiệm) và Root OU (chứa management account)\nKiểm tra cấu trúc Organizational Units (OUs)\nTruy cập phần \u0026ldquo;Organization\u0026rdquo; trong Control Tower\nXác nhận các OU cơ bản đã được tạo:\n• Security OU (chứa các tài khoản Audit và Log Archive) • Sandbox OU (dành cho môi trường thử nghiệm) • Root OU (chứa Management account)\nKiểm tra các OU bổ sung nếu bạn đã cấu hình thêm\nXác minh các tài khoản cốt lõi\nTrong phần \u0026ldquo;Organization\u0026rdquo;, kiểm tra các tài khoản đã được tạo:\n• Management account (tài khoản gốc của bạn)\n• Audit account (tài khoản kiểm toán)\n• Log Archive account (tài khoản lưu trữ nhật ký)\nXác nhận các tài khoản này đã được phân bổ vào đúng OU\n💡 Trong quá trình thiết lập Landing Zone, AWS Control Tower sẽ tự động cài đặt cấu hình dịch vụ AWS Config cho các tài khoản thành viên (phương thức ghi chép, kênh phân phối). Đối với tài khoản kiểm toán, Control Tower sẽ cài đặt AWS Config Aggregator, một lọại tài nguyên giúp giám sát tập trung các quy tắc tuân thủ của các tài nguyên trên toàn tổ chức\n📌 Sơ đồ minh họa AWS Control Tower tự động thiết lập và quản trị môi trường đa tài khoản với nền tảng quản trị, bảo mật chuẩn hóa và cấp phát tài khoản thông qua tài khoản quản lý trung tâm.\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/3-establish-trusted-access/3.2-aws-cloudformation/","title":"Thiết lập truy cập tin cậy giữa AWS Organizations và AWS CloudFormation","tags":[],"description":"","content":"Ý nghĩa Cho phép CloudFormation StackSets thực hiện các hoạt động trên các tài khoản thành viên mà không cần thiết lập quyền riêng trong từng tài khoản\nCác bước thực hiện Dùng tài khoản quản lí, truy cập giao diện quản trị dịch vụ\nMở AWS CloudShell Thực thi lệnh sau\naws organizations enable-aws-service-access --service-principal=member.org.stacksets.cloudformation.amazonaws.com "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/5-conformancepack/5.2-validate-conformancepack-status/5.2.3-conclusion/","title":"Kết luận","tags":[],"description":"","content":"Như vậy chúng ta đã triển khai hàng loạt AWS Config Conformance Pack lên các tài khoản thành viên.\nConformance pack bao gồm các quy tắc sau:\nCostOpt-S3-WithoutLifecycle: phát hiện những S3 buckets không được cấu hình chính sách vòng đời.\nCostOpt-Ebs-Gp3: nhận biết ổ cứng EBS mà không sử dụng loại ổ cứng gp3.\nCostOpt-Ebs-Unattached: nhận biết các ổ cứng EBS không được gán (vào máy chủ EC2) có thể gây phát sinh chi phí không cần thiết.\nĐây là đều là các quy tắc custom được định nghĩa logic đánh giá thông qua Lambda function. Trong số ba quy tắc này, chúng ta cũng cài đặt một hành động khắc phục sử dụng SSM Document CostOptimizationConfPack-EbsGp3Remediation để chuyển đổi một ổ cứng EBS bất kì sử dụng gp2 sang loại tiết kiệm chi phí gp3.\nTất cả các tài nguyên trên được tự động hoá thông qua dịch vụ CloudFormation\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/2-prerequiste/2.3-sso/","title":"Thiết lập AWS Identity Center","tags":[],"description":"","content":"Dịch vụ này là tuỳ chọn trong bài thực hành, tuy nhiên để thuận tiện chuyển đổi giữa tài khoản Quản trị được uỷ quyền và các tài khoản thành viên khác, việc kích hoạt dịch vụ này được khuyến nghị.\nCác bạn có thể tham khảo hướng dẫn chi tiết chi tiết tại bài thực hành Sử dụng AWS IAM Identity Center để quản lý định danh mạnh mẽ\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/3-establish-trusted-access/","title":"Thiết lập mối quan hệ tin cậy trong AWS Organizations","tags":[],"description":"","content":"Trong bước này, chúng ta sẽ thực hiện tạo mối quan hệ tin cậy giữa AWS Organizations và các service principals cho AWS CloudFormation và AWS Config\nViệc thiết lập này giúp:\nChức năng đa tài khoản - Quyền truy cập tin cậy cho phép các dịch vụ AWS hoạt động trên nhiều tài khoản trong tổ chức của bạn mà không cần phải cấu hình quyền thủ công trong từng tài khoản\nQuản lý tập trung - Các dịch vụ như AWS Config, CloudTrail và Security Hub có thể được triển khai và quản lý trên toàn tổ chức từ tài khoản quản lý\nService-linked roles - Quyền truy cập tin cậy tự động tạo các vai trò liên kết dịch vụ cần thiết trong các tài khoản thành viên\nNội dung 3.1. Kích hoạt quyền truy cập tin cậy cho AWS Config 3.2. kích hoạt quyền truy cập tin cậy cho AWS CloudFormation\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/3-establish-trusted-access/3.3-validate-trusted-access/","title":"Xác minh các mối quan hệ tin cậy đã được thiết lập","tags":[],"description":"","content":"Xác minh các mối quan hệ tin cậy đã được thiết lập chính xác bằng lệnh sau\naws organizations list-aws-service-access-for-organization Đầu ra nên chứa các giá trị sau:\n{ \u0026#34;EnabledServicePrincipals\u0026#34;: [ { \u0026#34;ServicePrincipal\u0026#34;: \u0026#34;config-multiaccountsetup.amazonaws.com\u0026#34;, \u0026#34;DateEnabled\u0026#34;: \u0026#34;2025-05-24T16:14:01.992000+07:00\u0026#34; }, { \u0026#34;ServicePrincipal\u0026#34;: \u0026#34;config.amazonaws.com\u0026#34;, \u0026#34;DateEnabled\u0026#34;: \u0026#34;2025-05-24T16:15:21.780000+07:00\u0026#34; }, { \u0026#34;ServicePrincipal\u0026#34;: \u0026#34;member.org.stacksets.cloudformation.amazonaws.com\u0026#34;, \u0026#34;DateEnabled\u0026#34;: \u0026#34;2025-05-24T16:22:41.608000+07:00\u0026#34; } ] } "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/4-delegate-admin-accounts/","title":"Kích hoạt tài khoản &#39;Quản trị viên được ủy quyền&#39;","tags":[],"description":"","content":"Ở bước này, chúng ta chỉ định một tài khoản thành viên (không phải tài khoản quản lý) thực hiện các tác vụ quản trị cụ thể cho các dịch vụ AWS cụ thể trên toàn tổ chức của bạn\nTài khoản quản lý nên chỉ dùng cho các tác vụ quản lý organization\nTrong phần này chúng ta sẽ tiến hành tạo S3 bucket và thực hiện cấu hình lưu trữ các session logs để xem được chi tiết các câu lệnh được sử dụng trong session.\nÝ nghĩa Phân chia nhiệm vụ - Trách nhiệm quản trị có thể được phân phối cho các nhóm chuyên biệt sử dụng các tài khoản thành viên chuyên dụng Giảm quyền truy cập tài khoản quản lý - Ít người cần truy cập vào tài khoản quản lý, cải thiện bảo mật Quản trị chuyên biệt - Các nhóm có chuyên môn về các dịch vụ cụ thể có thể quản lý các dịch vụ đó trên toàn tổ chức Hiệu quả hoạt động - Quản trị viên dịch vụ có thể làm việc trực tiếp từ tài khoản được chỉ định mà không cần chuyển sang tài khoản quản lý Yêu cầu tuân thủ - Giúp đáp ứng các yêu cầu tuân thủ đòi hỏi phân chia nhiệm vụ Nội dung: Cài đặt tài khoản Quản trị được uỷ quyền cho AWS Config Cài đặt tài khoản Quản trị được uỷ quyền cho AWS CloudFormation Tạo các vai trò IAM cần thiết "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/2-prerequiste/2.4-activatetrustedaccessforstacksets/","title":"Kích hoạt truy cập tin cậy cho CloudFormation StackSets","tags":[],"description":"","content":"Kích hoạt quyền truy cập tin cậy cho CloudFormation StackSets với AWS Organizations Việc kích hoạt này cho phép CloudFormation StackSets triển khai tài nguyên hàng loạt lên đa tài khoản, các bước như sau:\nĐăng nhập giao diện quản trị dịch vụ CloudFormation với tư cách tài khoản quản lí\nTừ thanh điều hướng, chọn StackSets. Nếu quyền truy cập tin cậy bị vô hiệu hóa, một banner sẽ hiển thị nhắc bạn kích hoạt quyền truy cập tin cậy.\nChoose Activate trusted access. Trusted access is successfully activated when the following banner displays.\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/5-conformancepack/","title":"Triển khai Conformance Pack tối ưu chi phí","tags":[],"description":"","content":"Nội dung 5.1. Triển khai Conformance Pack\n5.2. Kiểm tra trạng thái Conformance Pack\n"},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/6-test/","title":"Kiểm thử giải pháp","tags":[],"description":"","content":"Chúng ta sẽ tạo một ổ cứng EBS loại gp2 để kiểm thử giải pháp\nLặp lại bước đăng nhập sử dụng tài khoản thành viên Truy cập dịch vụ EC2\nỞ thanh điều hướng trái, chọn Volume Tạo một ổ cứng với các thuộc tính sau, chú ý chọn loại ổ cứng gp2 Sau khi tạo thành công, kiểm tra trạng thái ổ cứng rồi di chuyển đến dịch vụ AWS Config\n💡 Ghi chú id ổ cứng EBS để sau đó đối chiếu với kết quả đánh giá của AWS Config Conformance Pack Chọn Conformance pack với tên Cost-Optimization hoặc tương tự Chọn View để xem chi tiết danh mục quy tắc\nDo ổ cứng EBS được tạo vừa sử dụng loại ổ cứng gp2 đồng thời không được gán vào máy chủ EC2 nào nên có hai quy tắc được đánh giá không tuân thủ Chọn quy tắc CostOpt-Ebs-Gp3 để xem bảng điều khiển quy tắc\nBảng điều khiển liệt kê các ổ cứng EBS vi phạm quy tắc sử dụng loại gp3, có thể thấy id trùng lắp với ổ cứng chúng ta vừa tạo ở bước trên Để thực hiện hành động khắc phục, chọn nút Remediate\nĐợi chốc lát và kiểm tra cột Status như bên dưới: Sau đó ổ cứng EBS trên sẽ được loại bỏ khỏi bảng điều khiển do đã đáp ứng quy tắc.\nKiểm tra thuộc tính của ổ cứng EBS nói trên: "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/7-cleanup/","title":"Dọn dẹp tài nguyên  ","tags":[],"description":"","content":"Chúng ta sẽ tiến hành các bước sau để xóa các tài nguyên chúng ta đã tạo trong bài thực hành này.\nDọn dẹp tất cả tài nguyên tạo bởi CloudFormation Truy cập giao diện quản trị dịch vụ CloudFormation sử dụng tài khoản Quản trị viên được uỷ quyền. Mở CloudShell và nhập lệnh sau: aws cloudformation delete-stack --stack-name CostOptimizationConfPack Chờ chốc lát và quan sát đảm bảo tất cả các stack đều được xoá Tiếp dụng sử dụng phiên CloudShell trên để huỷ cấp quyền quản trị cho tài khoản kiểm toán. Nhập hai lệnh sau: aws organizations deregister-delegated-administrator --account-id $ACCOUNT_ID --service-principal config-multiaccountsetup.amazonaws.com\naws organizations deregister-delegated-administrator --account-id 123412341234 --service-principal config.amazonaws.com\nXoá ổ cứng EBS Truy cập giao diện quản trị dịch vụ EC2 sử dụng tài khoản tài khoản thành viên\nThực hiện xoá ổ cứng "},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://hoangquochung1110.github.io/cost-optimization-at-scale/vi/tags/","title":"Tags","tags":[],"description":"","content":""}]